labels:
  io.rancher.certified: partner
categories:
- storage
questions:
- variable: imagePullPolicy
  label: "ImagePullPolicy"
  default: "IfNotPresent"
  type: enum
  options:
    - "IfNotPresent"
    - "Always"
    - "Never"
  description: "ImagePullPolicy for all CSI driver images"
  group: "HPE CSI Driver settings"
- variable: disableNodeConformance
  label: "Disable automatic installation of iSCSI/Multipath Packages"
  type: boolean
  default: false
  description: "Disable automatic installation of iSCSI/Multipath Packages"
  group: "HPE CSI Driver settings"
- variable: iscsi.chapUser
  label: "iSCSI CHAP Username"
  type: string
  required: false
  description: "Specify username for iSCSI CHAP authentication"
  group: "HPE iSCSI settings"
- variable: iscsi.chapPassword
  label: "iSCSI CHAP Password"
  type: password
  required: false
  description: "Specify password for iSCSI CHAP authentication"
  group: "HPE iSCSI settings"
- variable: infoMetrics.enabled
  label: "Enable HPE CSI info metrics for Prometheus"
  type: boolean
  default: false
  description: "Enable HPE CSI info metrics for Prometheus, so that separately provided storage system metrics can be correlated with resources managed by the HPE CSI Driver.  When false, other settings in this group have no effect."
  group: "HPE CSI info metrics settings"
  show_subquestion_if: true
  subquestions:
  - variable: infoMetrics.service.type
    label: "The type of Service created to provide access to the info metrics"
    type: enum
    options:
      - "ClusterIP"
      - "NodePort"
    default: "ClusterIP"
    description: "The type of Service created to provide access to the info metrics: ClusterIP if Prometheus is running within the cluster or NodePort if the service must be accessed from outside the cluster"
    group: "HPE CSI info metrics settings"
  - variable: infoMetrics.service.port
    label: "The port exposed by the info metrics Service within the cluster"
    type: int
    default: 9090
    description: "The port exposed by the info metrics Service within the cluster"
    group: "HPE CSI info metrics settings"
  - variable: infoMetrics.service.nodePort
    show_if: "infoMetrics.service.type=NodePort"
    label: "The external node port at which info metrics are served, when the Service type is NodePort"
    type: int
    default: 30901
    description: "The external node port at which info metrics are served, when the Service type is NodePort"
    group: "HPE CSI info metrics settings"
  - variable: infoMetrics.service.customLabels
    label: "Labels to be added to the info metrics Service"
    type: multiline
    required: false
    description: "Labels to be added to the info metrics Service, for example to add target labels in a ServiceMonitor scrape configuration"
    group: "HPE CSI info metrics settings"
  - variable: infoMetrics.localPrometheusOperator
    label: "Enable discovery as a scrape target by a Prometheus Operator running within the cluster"
    type: boolean
    default: false
    description: "Enable discovery as a scrape target by a Prometheus Operator running within the cluster by creating a ServiceMonitor resource.  Must be set to false if Prometheus custom resource definitions are not installed."
    group: "HPE CSI info metrics settings"
  - variable: infoMetrics.scrapeInterval
    show_if: "infoMetrics.localPrometheusOperator"
    label: "The time interval for Prometheus to scrape the info metrics"
    type: string
    default: 30s
    description: "The time interval for Prometheus to scrape the info metrics, when discovery by a Prometheus instance within the cluster is enabled"
    group: "HPE CSI info metrics settings"
  - variable: infoMetrics.scrapeConfig
    show_if: "infoMetrics.localPrometheusOperator"
    label: "Labels to be added to the info metrics Service"
    type: multiline
    required: false
    description: "Free-form YAML content to be added to the ServiceMonitor spec, intended to enable a customized Prometheus scrape configuration including target labels and relabeling"
    group: "HPE CSI info metrics settings"
